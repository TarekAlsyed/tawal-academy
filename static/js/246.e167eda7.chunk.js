"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[246],{868(e,s,a){a.d(s,{A:()=>c});var n=a(43),i=a(29),l=a(115),t=a(729),d=a(772),r=(a(497),a(579));const c=e=>{let{children:s}=e;const{admin:a,adminLogout:c}=(0,t.As)(),o=(0,i.Zp)(),m=(0,i.zy)(),[h,u]=(0,n.useState)(!1),p=[{path:"/admin",label:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",icon:(0,r.jsx)(d.ARf,{})},{path:"/admin/terms",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0631\u0645\u0627\u062a",icon:(0,r.jsx)(d.s_k,{})},{path:"/admin/subjects",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u062f",icon:(0,r.jsx)(d.H9b,{})},{path:"/admin/students",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,r.jsx)(d.cfS,{})},{path:"/admin/questions",label:"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,r.jsx)(d.jH2,{})}],j=()=>u(!h);return(0,r.jsxs)("div",{className:"admin-container",children:[(0,r.jsx)("button",{className:"mobile-menu-toggle",onClick:j,children:h?(0,r.jsx)(d.yGN,{}):(0,r.jsx)(d.ND1,{})}),(0,r.jsxs)("aside",{className:"admin-sidebar ".concat(h?"open":""),children:[(0,r.jsxs)("div",{className:"sidebar-header",children:[(0,r.jsx)("h2",{children:"\ud83c\udf93 Tawal Academy"}),(0,r.jsx)("p",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,r.jsx)("nav",{className:"sidebar-nav",children:p.map(e=>(0,r.jsxs)("button",{className:"nav-item ".concat(m.pathname===e.path?"active":""),onClick:()=>{o(e.path),u(!1)},children:[e.icon," ",e.label]},e.path))}),(0,r.jsxs)("div",{className:"sidebar-footer",children:[(0,r.jsxs)("div",{className:"admin-info",children:[(0,r.jsx)("p",{children:null===a||void 0===a?void 0:a.name}),(0,r.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]}),(0,r.jsxs)("button",{className:"btn-logout",onClick:()=>{c(),o("/admin/login"),l.oR.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")},children:[(0,r.jsx)(d.QeK,{})," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"]})]})]}),h&&(0,r.jsx)("div",{className:"sidebar-overlay",onClick:j}),(0,r.jsx)("main",{className:"admin-main",children:s})]})}},246(e,s,a){a.r(s),a.d(s,{default:()=>m});var n=a(555),i=a(43),l=a(29),t=a(115),d=a(305),r=a(227),c=a(868),o=(a(893),a(579));const m=()=>{const[e,s]=(0,i.useState)([]),[a,m]=(0,i.useState)({termId:"",name:"",description:"",status:"open"}),[h,u]=(0,i.useState)(null),[p,j]=(0,i.useState)(!1),x=(0,l.Zp)();(0,i.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await d.Ay.get(r.Sn.ADMIN_TERMS);e.data.success&&s(e.data.data.terms)}catch(e){t.oR.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0631\u0645\u0627\u062a")}},b=e=>{m((0,n.A)((0,n.A)({},a),{},{[e.target.name]:e.target.value}))};return(0,o.jsxs)(c.A,{children:[(0,o.jsx)("div",{className:"page-header",children:(0,o.jsx)("h1",{children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0627\u062f\u0629 \u062c\u062f\u064a\u062f\u0629"})}),(0,o.jsx)("div",{className:"content-card",children:(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.name&&a.termId){j(!0);try{const e=new FormData;e.append("termId",a.termId),e.append("name",a.name),e.append("description",a.description),e.append("status",a.status),h&&e.append("cover",h),await d.Ay.post(r.Sn.ADMIN_SUBJECTS,e,{headers:{"Content-Type":"multipart/form-data"}}),t.oR.success("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0627\u062f\u0629 \u0628\u0646\u062c\u0627\u062d"),x("/admin/subjects")}catch(i){var s,n;t.oR.error((null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"\u062d\u062f\u062b \u062e\u0637\u0623")}finally{j(!1)}}else t.oR.error("\u0627\u0633\u0645 \u0627\u0644\u0645\u0627\u062f\u0629 \u0648\u0627\u0644\u062a\u0631\u0645 \u0645\u0637\u0644\u0648\u0628\u0627\u0646")},children:[(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"\u0627\u0644\u062a\u0631\u0645 *"}),(0,o.jsxs)("select",{name:"termId",value:a.termId,onChange:b,required:!0,children:[(0,o.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0631\u0645"}),e.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0627\u062f\u0629 *"}),(0,o.jsx)("input",{type:"text",name:"name",value:a.name,onChange:b,placeholder:"\u0645\u062b\u0627\u0644: \u0627\u0644\u0631\u064a\u0627\u0636\u064a\u0627\u062a",required:!0})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641"}),(0,o.jsx)("textarea",{name:"description",value:a.description,onChange:b,placeholder:"\u0648\u0635\u0641 \u0627\u0644\u0645\u0627\u062f\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)",rows:"3"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,o.jsxs)("select",{name:"status",value:a.status,onChange:b,children:[(0,o.jsx)("option",{value:"open",children:"\u0645\u0641\u062a\u0648\u062d\u0629"}),(0,o.jsx)("option",{value:"closed",children:"\u0645\u063a\u0644\u0642\u0629"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u063a\u0644\u0627\u0641 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)"}),(0,o.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){if(s.size>2097152)return void t.oR.error("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 2 \u0645\u064a\u062c\u0627");u(s)}}}),(0,o.jsx)("small",{children:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 2 \u0645\u064a\u062c\u0627"})]})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0627\u062f\u0629"}),(0,o.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>x("/admin/subjects"),children:"\u0625\u0644\u063a\u0627\u0621"})]})]})})]})}},497(){},893(){}}]);
//# sourceMappingURL=246.e167eda7.chunk.js.map