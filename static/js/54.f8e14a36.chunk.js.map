{"version":3,"file":"static/js/54.f8e14a36.chunk.js","mappings":"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","sources":["pages/student/SubjectDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport API_BASE_URL, { API_ENDPOINTS, getFileUrl } from '../../config/api';\r\nimport { FiDownload, FiStar, FiArrowRight } from 'react-icons/fi';\r\nimport '../../styles/StudentSubject.css';\r\n\r\nconst SubjectDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, refreshUser } = useAuth();\r\n  const [subject, setSubject] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('pdfs');\r\n  const [rating, setRating] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchSubject();\r\n  }, [id]);\r\n\r\n  const fetchSubject = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(API_ENDPOINTS.SUBJECT_BY_ID(id));\r\n      if (response.data.success) {\r\n        setSubject(response.data.data.subject);\r\n        setRating(response.data.data.subject.user_rating || 0);\r\n      }\r\n    } catch (error) {\r\n      toast.error('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø§Ø¯Ø©');\r\n      navigate('/');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = async (pdfId) => {\r\n    // Open a new window immediately to avoid popup blockers\r\n    const newWindow = window.open('', '_blank');\r\n    if (newWindow) {\r\n      newWindow.document.write('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...');\r\n    }\r\n\r\n    try {\r\n      const response = await api.post(API_ENDPOINTS.DOWNLOAD_PDF(id, pdfId));\r\n      if (response.data.success && (response.data.data.full_url || response.data.data.url)) {\r\n        const fullUrl = response.data.data.full_url || getFileUrl(response.data.data.url);\r\n        \r\n        if (newWindow) {\r\n          newWindow.location.href = fullUrl;\r\n        } else {\r\n          window.open(fullUrl, '_blank');\r\n        }\r\n        \r\n        toast.success('ØªÙ… Ø¥Ø¶Ø§ÙØ© 5 Ù†Ù‚Ø§Ø·! ğŸ‰');\r\n        refreshUser();\r\n        fetchSubject();\r\n      } else {\r\n        if (newWindow) newWindow.close();\r\n        toast.error('ÙØ´Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù');\r\n      }\r\n    } catch (error) {\r\n      if (newWindow) newWindow.close();\r\n      toast.error('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù');\r\n    }\r\n  };\r\n\r\n  const handleViewImage = async (imageId) => {\r\n    // Open a new window immediately to avoid popup blockers\r\n    const newWindow = window.open('', '_blank');\r\n    if (newWindow) {\r\n      newWindow.document.write('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...');\r\n    }\r\n\r\n    try {\r\n      const response = await api.post(API_ENDPOINTS.VIEW_IMAGE(id, imageId));\r\n      if (response.data.success && (response.data.data.full_url || response.data.data.url)) {\r\n        const fullUrl = response.data.data.full_url || getFileUrl(response.data.data.url);\r\n        \r\n        if (newWindow) {\r\n          newWindow.location.href = fullUrl;\r\n        } else {\r\n          window.open(fullUrl, '_blank');\r\n        }\r\n\r\n        toast.success('ØªÙ… Ø¥Ø¶Ø§ÙØ© 2 Ù†Ù‚Ø·Ø©! â­');\r\n        refreshUser();\r\n        fetchSubject();\r\n      } else {\r\n        if (newWindow) newWindow.close();\r\n        toast.error('ÙØ´Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©');\r\n      }\r\n    } catch (error) {\r\n      if (newWindow) newWindow.close();\r\n      toast.error('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©');\r\n    }\r\n  };\r\n\r\n  const handleRating = async (stars) => {\r\n    try {\r\n      await api.post(API_ENDPOINTS.RATE_SUBJECT(id), { rating: stars });\r\n      setRating(stars);\r\n      toast.success('Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ! ØªÙ… Ø¥Ø¶Ø§ÙØ© 3 Ù†Ù‚Ø§Ø· ğŸŒŸ');\r\n      refreshUser();\r\n      fetchSubject();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…');\r\n    }\r\n  };\r\n\r\n  const canAccessExam = (exam) => {\r\n    if (exam.level === 1) return true;\r\n    \r\n    const previousLevel = subject.exams.find(e => e.level === exam.level - 1);\r\n    if (!previousLevel) return false;\r\n    \r\n    return exam.can_access;\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>;\r\n  if (!subject) return <div className=\"loading\">Ø§Ù„Ù…Ø§Ø¯Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©</div>;\r\n\r\n  return (\r\n    <div className=\"student-subject-container\">\r\n      <header className=\"subject-header\">\r\n        <div className=\"header-content\">\r\n          <button className=\"btn-back\" onClick={() => navigate('/')}>\r\n            <FiArrowRight /> Ø§Ù„Ø¹ÙˆØ¯Ø©\r\n          </button>\r\n          <div className=\"header-info\">\r\n            <h1>{subject.name}</h1>\r\n            <p>{subject.description}</p>\r\n          </div>\r\n          <div className=\"user-points\">\r\n            <span>â­ {user?.total_points || 0} Ù†Ù‚Ø·Ø©</span>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"subject-tabs\">\r\n        <button\r\n          className={activeTab === 'pdfs' ? 'active' : ''}\r\n          onClick={() => setActiveTab('pdfs')}\r\n        >\r\n          ğŸ“„ Ø§Ù„Ù…Ù„ÙØ§Øª ({subject.pdfs?.length || 0})\r\n        </button>\r\n        <button\r\n          className={activeTab === 'images' ? 'active' : ''}\r\n          onClick={() => setActiveTab('images')}\r\n        >\r\n          ğŸ–¼ï¸ Ø§Ù„ØµÙˆØ± ({subject.images?.length || 0})\r\n        </button>\r\n        <button\r\n          className={activeTab === 'exams' ? 'active' : ''}\r\n          onClick={() => setActiveTab('exams')}\r\n        >\r\n          ğŸ“ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª ({subject.exams?.length || 0})\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"subject-content\">\r\n        {activeTab === 'pdfs' && (\r\n          <div className=\"pdfs-section\">\r\n            {subject.pdfs && subject.pdfs.length > 0 ? (\r\n              <div className=\"pdfs-grid\">\r\n                {subject.pdfs.map((pdf) => (\r\n                  <div key={pdf.id} className=\"pdf-card\">\r\n                    <div className=\"pdf-icon\">ğŸ“„</div>\r\n                    <h3>{pdf.title}</h3>\r\n                    <p>ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ {pdf.downloads_count} Ù…Ø±Ø©</p>\r\n                    <button\r\n                      className=\"btn-download\"\r\n                      onClick={() => handleDownloadPDF(pdf.id)}\r\n                    >\r\n                      <FiDownload /> ØªØ­Ù…ÙŠÙ„ (5 Ù†Ù‚Ø§Ø·)\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª Ù…ØªØ§Ø­Ø©</div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'images' && (\r\n          <div className=\"images-section\">\r\n            {subject.images && subject.images.length > 0 ? (\r\n              <div className=\"images-grid\">\r\n                {subject.images.map((image) => (\r\n                  <div\r\n                    key={image.id}\r\n                    className=\"image-card\"\r\n                    onClick={() => handleViewImage(image.id)}\r\n                  >\r\n                    <img src={getFileUrl(image.file_url)} alt={image.title} />\r\n                    <div className=\"image-info\">\r\n                      <p>{image.title}</p>\r\n                      <small>ØªÙ… Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© {image.views_count} Ù…Ø±Ø©</small>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± Ù…ØªØ§Ø­Ø©</div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'exams' && (\r\n          <div className=\"exams-section\">\r\n            {subject.exams && subject.exams.length > 0 ? (\r\n              <div className=\"exams-list\">\r\n                {subject.exams.map((exam) => (\r\n                  <div key={exam.id} className={`exam-card ${!canAccessExam(exam) ? 'locked' : ''}`}>\r\n                    <div className=\"exam-info\">\r\n                      <h3>{exam.name}</h3>\r\n                      <p>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ {exam.level}</p>\r\n                      <span className=\"questions-count\">{exam.questions_count} Ø³Ø¤Ø§Ù„</span>\r\n                      {exam.best_score && (\r\n                        <span className=\"best-score\">Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©: {exam.best_score}%</span>\r\n                      )}\r\n                    </div>\r\n                    {canAccessExam(exam) ? (\r\n                      <button\r\n                        className=\"btn-start-exam\"\r\n                        onClick={() => navigate(`/exam/${exam.id}`)}\r\n                      >\r\n                        Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†\r\n                      </button>\r\n                    ) : (\r\n                      <div className=\"exam-locked\">\r\n                        ğŸ”’ Ù…ØºÙ„Ù‚\r\n                        <small>Ø§Ø¬ØªØ§Ø² Ø§Ù„Ù…Ø³ØªÙˆÙ‰ {exam.level - 1} Ø£ÙˆÙ„Ø§Ù‹</small>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-state\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ù…ØªØ§Ø­Ø©</div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"rating-section\">\r\n        <h3>Ù‚ÙŠÙ‘Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©</h3>\r\n        <div className=\"stars\">\r\n          {[1, 2, 3, 4, 5].map((star) => (\r\n            <FiStar\r\n              key={star}\r\n              className={star <= (rating || subject.user_rating || 0) ? 'filled' : ''}\r\n              onClick={() => handleRating(star)}\r\n            />\r\n          ))}\r\n        </div>\r\n        {subject.avg_rating > 0 && (\r\n          <p>Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ø§Ù…: {Number(subject.avg_rating).toFixed(1)} â­ ({subject.ratings_count} ØªÙ‚ÙŠÙŠÙ…)</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubjectDetail;"],"names":["SubjectDetail","_subject$pdfs","_subject$images","_subject$exams","id","useParams","navigate","useNavigate","user","refreshUser","useAuth","subject","setSubject","useState","loading","setLoading","activeTab","setActiveTab","rating","setRating","useEffect","fetchSubject","async","response","api","get","API_ENDPOINTS","SUBJECT_BY_ID","data","success","user_rating","error","toast","canAccessExam","exam","level","exams","find","e","can_access","_jsx","className","children","_jsxs","onClick","FiArrowRight","name","description","total_points","pdfs","length","images","map","pdf","title","downloads_count","newWindow","window","open","document","write","post","DOWNLOAD_PDF","pdfId","full_url","url","fullUrl","getFileUrl","location","href","close","handleDownloadPDF","FiDownload","image","VIEW_IMAGE","imageId","handleViewImage","src","file_url","alt","views_count","concat","questions_count","best_score","star","FiStar","RATE_SUBJECT","stars","_error$response","_error$response$data","message","handleRating","avg_rating","Number","toFixed","ratings_count"],"sourceRoot":""}