"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[695],{868(s,e,a){a.d(e,{A:()=>r});var n=a(43),i=a(29),l=a(115),t=a(729),c=a(772),d=(a(497),a(579));const r=s=>{let{children:e}=s;const{admin:a,adminLogout:r}=(0,t.As)(),o=(0,i.Zp)(),h=(0,i.zy)(),[m,x]=(0,n.useState)(!1),j=[{path:"/admin",label:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",icon:(0,d.jsx)(c.ARf,{})},{path:"/admin/terms",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0631\u0645\u0627\u062a",icon:(0,d.jsx)(c.s_k,{})},{path:"/admin/subjects",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u062f",icon:(0,d.jsx)(c.H9b,{})},{path:"/admin/students",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,d.jsx)(c.cfS,{})},{path:"/admin/questions",label:"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,d.jsx)(c.jH2,{})}],u=()=>x(!m);return(0,d.jsxs)("div",{className:"admin-container",children:[(0,d.jsx)("button",{className:"mobile-menu-toggle",onClick:u,children:m?(0,d.jsx)(c.yGN,{}):(0,d.jsx)(c.ND1,{})}),(0,d.jsxs)("aside",{className:"admin-sidebar ".concat(m?"open":""),children:[(0,d.jsxs)("div",{className:"sidebar-header",children:[(0,d.jsx)("h2",{children:"\ud83c\udf93 Tawal Academy"}),(0,d.jsx)("p",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,d.jsx)("nav",{className:"sidebar-nav",children:j.map(s=>(0,d.jsxs)("button",{className:"nav-item ".concat(h.pathname===s.path?"active":""),onClick:()=>{o(s.path),x(!1)},children:[s.icon," ",s.label]},s.path))}),(0,d.jsxs)("div",{className:"sidebar-footer",children:[(0,d.jsxs)("div",{className:"admin-info",children:[(0,d.jsx)("p",{children:null===a||void 0===a?void 0:a.name}),(0,d.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]}),(0,d.jsxs)("button",{className:"btn-logout",onClick:()=>{r(),o("/admin/login"),l.oR.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")},children:[(0,d.jsx)(c.QeK,{})," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"]})]})]}),m&&(0,d.jsx)("div",{className:"sidebar-overlay",onClick:u}),(0,d.jsx)("main",{className:"admin-main",children:e})]})}},695(s,e,a){a.r(e),a.d(e,{default:()=>o});var n=a(43),i=a(115),l=a(772),t=a(305),c=a(227),d=a(868),r=(a(893),a(579));const o=()=>{const[s,e]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[h,m]=(0,n.useState)(""),[x,j]=(0,n.useState)("all");(0,n.useEffect)(()=>{u()},[]);const u=async()=>{try{o(!0);const s=await t.Ay.get(c.Sn.ADMIN_STUDENT_QUESTIONS);s.data.success&&e(s.data.data.questions)}catch(s){i.oR.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629")}finally{o(!1)}},p=s.filter(s=>{const e=s.student.name.toLowerCase().includes(h.toLowerCase())||s.question.toLowerCase().includes(h.toLowerCase()),a="all"===x||s.status===x;return e&&a});return a?(0,r.jsx)("div",{className:"loading",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."}):(0,r.jsx)(d.A,{children:(0,r.jsxs)("div",{className:"admin-content",children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsx)("h1",{children:"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629"}),(0,r.jsx)("p",{children:"\u0625\u062f\u0627\u0631\u0629 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629 \u0648\u0627\u0644\u0631\u062f \u0639\u0644\u064a\u0647\u0627"})]}),(0,r.jsxs)("div",{className:"filters-section",children:[(0,r.jsx)("div",{className:"search-box",children:(0,r.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644...",value:h,onChange:s=>m(s.target.value)})}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,r.jsxs)("select",{value:x,onChange:s=>j(s.target.value),children:[(0,r.jsx)("option",{value:"all",children:"\u0627\u0644\u0643\u0644"}),(0,r.jsx)("option",{value:"pending",children:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"}),(0,r.jsx)("option",{value:"answered",children:"\u062a\u0645 \u0627\u0644\u0631\u062f"})]})]})]}),(0,r.jsx)("div",{className:"questions-list",children:0===p.length?(0,r.jsx)("div",{className:"empty-state",children:h||"all"!==x?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0645\u0637\u0627\u0628\u0642\u0629":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0633\u0626\u0644\u0629 \u062c\u062f\u064a\u062f\u0629"}):(0,r.jsx)("div",{className:"questions-grid",children:p.map(s=>(0,r.jsxs)("div",{className:"question-card ".concat(s.status),children:[(0,r.jsxs)("div",{className:"question-header",children:[(0,r.jsxs)("div",{className:"student-info",children:[(0,r.jsx)(l.JXP,{}),(0,r.jsx)("span",{children:s.student.name})]}),(0,r.jsxs)("div",{className:"student-email",children:[(0,r.jsx)(l.pHD,{}),(0,r.jsx)("span",{children:s.student.email})]}),(0,r.jsx)("span",{className:"status-badge ".concat(s.status),children:"pending"===s.status?"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631":"\u062a\u0645 \u0627\u0644\u0631\u062f"})]}),(0,r.jsxs)("div",{className:"question-content",children:[(0,r.jsxs)("div",{className:"question-text",children:[(0,r.jsx)(l.mEP,{}),(0,r.jsx)("p",{children:s.question})]}),s.reply&&(0,r.jsxs)("div",{className:"reply-section",children:[(0,r.jsx)("h4",{children:"\u0627\u0644\u0631\u062f:"}),(0,r.jsx)("p",{children:s.reply}),(0,r.jsxs)("small",{children:["\u062a\u0645 \u0627\u0644\u0631\u062f \u0628\u062a\u0627\u0631\u064a\u062e: ",new Date(s.replied_at).toLocaleDateString("ar-SA")]})]})]}),(0,r.jsx)("div",{className:"question-actions",children:"pending"===s.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"btn-reply",onClick:()=>{const e=prompt("\u0627\u0643\u062a\u0628 \u0631\u062f\u0643:");e&&(async(s,e)=>{if(e.trim())try{(await t.Ay.post(c.Sn.ADMIN_REPLY_QUESTION(s),{reply:e})).data.success&&(i.oR.success("\u062a\u0645 \u0627\u0644\u0631\u062f \u0628\u0646\u062c\u0627\u062d"),u())}catch(a){i.oR.error("\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u062f")}else i.oR.error("\u064a\u0631\u062c\u0649 \u0643\u062a\u0627\u0628\u0629 \u0631\u062f")})(s.id,e)},children:[(0,r.jsx)(l.YrT,{})," \u0631\u062f"]}),(0,r.jsxs)("button",{className:"btn-delete",onClick:()=>(async s=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0633\u0624\u0627\u0644\u061f"))try{(await t.Ay.delete(c.Sn.ADMIN_DELETE_STUDENT_QUESTION(s))).data.success&&(i.oR.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0633\u0624\u0627\u0644"),u())}catch(e){i.oR.error("\u0641\u0634\u0644 \u062d\u0630\u0641 \u0627\u0644\u0633\u0624\u0627\u0644")}})(s.id),children:[(0,r.jsx)(l.yGN,{})," \u062d\u0630\u0641"]})]})})]},s.id))})})]})})}},497(){},893(){}}]);
//# sourceMappingURL=695.f0964203.chunk.js.map