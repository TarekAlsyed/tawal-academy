"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[763],{868(s,e,a){a.d(e,{A:()=>r});var n=a(43),t=a(29),c=a(115),i=a(729),l=a(772),d=(a(497),a(579));const r=s=>{let{children:e}=s;const{admin:a,adminLogout:r}=(0,i.As)(),o=(0,t.Zp)(),h=(0,t.zy)(),[m,j]=(0,n.useState)(!1),x=[{path:"/admin",label:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",icon:(0,d.jsx)(l.ARf,{})},{path:"/admin/terms",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0631\u0645\u0627\u062a",icon:(0,d.jsx)(l.s_k,{})},{path:"/admin/subjects",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u062f",icon:(0,d.jsx)(l.H9b,{})},{path:"/admin/students",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,d.jsx)(l.cfS,{})},{path:"/admin/questions",label:"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,d.jsx)(l.jH2,{})}],u=()=>j(!m);return(0,d.jsxs)("div",{className:"admin-container",children:[(0,d.jsx)("button",{className:"mobile-menu-toggle",onClick:u,children:m?(0,d.jsx)(l.yGN,{}):(0,d.jsx)(l.ND1,{})}),(0,d.jsxs)("aside",{className:"admin-sidebar ".concat(m?"open":""),children:[(0,d.jsxs)("div",{className:"sidebar-header",children:[(0,d.jsx)("h2",{children:"\ud83c\udf93 Tawal Academy"}),(0,d.jsx)("p",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,d.jsx)("nav",{className:"sidebar-nav",children:x.map(s=>(0,d.jsxs)("button",{className:"nav-item ".concat(h.pathname===s.path?"active":""),onClick:()=>{o(s.path),j(!1)},children:[s.icon," ",s.label]},s.path))}),(0,d.jsxs)("div",{className:"sidebar-footer",children:[(0,d.jsxs)("div",{className:"admin-info",children:[(0,d.jsx)("p",{children:null===a||void 0===a?void 0:a.name}),(0,d.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]}),(0,d.jsxs)("button",{className:"btn-logout",onClick:()=>{r(),o("/admin/login"),c.oR.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")},children:[(0,d.jsx)(l.QeK,{})," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"]})]})]}),m&&(0,d.jsx)("div",{className:"sidebar-overlay",onClick:u}),(0,d.jsx)("main",{className:"admin-main",children:e})]})}},763(s,e,a){a.r(e),a.d(e,{default:()=>o});var n=a(43),t=a(115),c=a(772),i=a(305),l=a(227),d=a(868),r=(a(893),a(579));const o=()=>{const[s,e]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[h,m]=(0,n.useState)(""),[j,x]=(0,n.useState)("all");(0,n.useEffect)(()=>{u()},[]);const u=async()=>{try{o(!0);const s=await i.Ay.get(l.Sn.ADMIN_STUDENTS);s.data.success&&e(s.data.data.students)}catch(s){t.oR.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0629")}finally{o(!1)}},v=s.filter(s=>{const e=s.name.toLowerCase().includes(h.toLowerCase())||s.email.toLowerCase().includes(h.toLowerCase()),a="all"===j||s.status===j;return e&&a});return a?(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsx)("div",{className:"loader"}),(0,r.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0629..."})]}):(0,r.jsx)(d.A,{children:(0,r.jsxs)("div",{className:"admin-content",children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0629"}),(0,r.jsx)("div",{className:"header-actions",children:(0,r.jsx)("button",{className:"btn-primary",onClick:async()=>{try{const s=await i.Ay.get(l.Sn.ADMIN_STUDENTS_EXPORT,{responseType:"blob"}),e=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement("a");a.href=e,a.setAttribute("download","students_".concat((new Date).toISOString().split("T")[0],".pdf")),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(e),t.oR.success("\u062a\u0645 \u062a\u0635\u062f\u064a\u0631 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0629")}catch(s){t.oR.error("\u0641\u0634\u0644 \u062a\u0635\u062f\u064a\u0631 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0629")}},children:"\u062a\u0635\u062f\u064a\u0631 PDF"})})]}),(0,r.jsxs)("div",{className:"filters-section",children:[(0,r.jsx)("div",{className:"search-box",children:(0,r.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a...",value:h,onChange:s=>m(s.target.value)})}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("label",{children:"\u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,r.jsxs)("select",{value:j,onChange:s=>x(s.target.value),children:[(0,r.jsx)("option",{value:"all",children:"\u0627\u0644\u0643\u0644"}),(0,r.jsx)("option",{value:"active",children:"\u0646\u0634\u0637"}),(0,r.jsx)("option",{value:"blocked",children:"\u0645\u062d\u0638\u0648\u0631"})]})]})]}),(0,r.jsx)("div",{className:"students-grid",children:0===v.length?(0,r.jsx)("div",{className:"empty-state",children:h||"all"!==j?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c \u0645\u0637\u0627\u0628\u0642\u0629":"\u0644\u0627 \u064a\u0648\u062c\u062f \u0637\u0644\u0628\u0629 \u0645\u0633\u062c\u0644\u0648\u0646"}):v.map(s=>(0,r.jsxs)("div",{className:"student-card ".concat(s.status),children:[(0,r.jsxs)("div",{className:"student-header",children:[(0,r.jsx)("div",{className:"student-avatar",children:s.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"student-info",children:[(0,r.jsx)("h3",{children:s.name}),(0,r.jsxs)("p",{className:"student-email",children:[(0,r.jsx)(c.pHD,{})," ",s.email]}),s.phone&&(0,r.jsxs)("p",{className:"student-phone",children:[(0,r.jsx)(c.QFc,{})," ",s.phone]})]})]}),(0,r.jsxs)("div",{className:"student-stats",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(c.TPq,{}),(0,r.jsxs)("span",{children:["\u0627\u0644\u0646\u0642\u0627\u0637: ",s.total_points]})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(c.JXP,{}),(0,r.jsxs)("span",{children:["\u0627\u0644\u062d\u0627\u0644\u0629: ","active"===s.status?"\u0646\u0634\u0637":"\u0645\u062d\u0638\u0648\u0631"]})]})]}),(0,r.jsxs)("div",{className:"student-actions",children:[(0,r.jsx)("button",{className:"btn-action ".concat("active"===s.status?"danger":"success"),onClick:()=>(async(s,e)=>{try{const a="blocked"===e;(await i.Ay.post(a?l.Sn.ADMIN_UNBLOCK_STUDENT(s):l.Sn.ADMIN_BLOCK_STUDENT(s),{reason:"\u062a\u0645 \u0627\u0644\u062d\u0638\u0631 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0625\u062f\u0627\u0631\u0629"})).data.success&&(t.oR.success(a?"\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631":"\u062a\u0645 \u062d\u0638\u0631 \u0627\u0644\u0637\u0627\u0644\u0628"),u())}catch(a){t.oR.error("\u0641\u0634\u0644 \u062a\u063a\u064a\u064a\u0631 \u062d\u0627\u0644\u0629 \u0627\u0644\u0637\u0627\u0644\u0628")}})(s.id,s.status),children:"active"===s.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.del,{})," \u062d\u0638\u0631"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.YrT,{})," \u062a\u0641\u0639\u064a\u0644"]})}),(0,r.jsxs)("button",{className:"btn-action danger",onClick:()=>(async s=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0637\u0627\u0644\u0628 \u0646\u0647\u0627\u0626\u064a\u0627\u064b\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0645\u062d\u0627\u0648\u0644\u0627\u062a \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646\u0627\u062a \u0648\u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u0647."))try{(await i.Ay.delete(l.Sn.ADMIN_DELETE_STUDENT(s))).data.success&&(t.oR.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0637\u0627\u0644\u0628 \u0628\u0646\u062c\u0627\u062d"),u())}catch(e){t.oR.error("\u0641\u0634\u0644 \u062d\u0630\u0641 \u0627\u0644\u0637\u0627\u0644\u0628")}})(s.id),title:"\u062d\u0630\u0641 \u0627\u0644\u0637\u0627\u0644\u0628 \u0646\u0647\u0627\u0626\u064a\u0627\u064b",children:[(0,r.jsx)(c.IXo,{})," \u062d\u0630\u0641"]})]})]},s.id))})]})})}},497(){},893(){}}]);
//# sourceMappingURL=763.a531a5af.chunk.js.map