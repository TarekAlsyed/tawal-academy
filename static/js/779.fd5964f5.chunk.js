"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[779],{779(e,s,n){n.r(s),n.d(s,{default:()=>u});var a=n(555),t=n(43),c=n(29),i=n(115),d=n(729),o=n(305),r=n(227),l=n(579);const u=()=>{const{id:e}=(0,c.g)(),s=(0,c.Zp)(),{user:n}=(0,d.As)(),[u,h]=(0,t.useState)(null),[m,x]=(0,t.useState)({}),[p,v]=(0,t.useState)(!0),[j,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>(N(),f(),document.addEventListener("copy",g),document.addEventListener("cut",g),document.addEventListener("contextmenu",b),()=>{document.removeEventListener("copy",g),document.removeEventListener("cut",g),document.removeEventListener("contextmenu",b)}),[e]);const g=e=>{e.preventDefault(),i.oR.error("\u0627\u0644\u0646\u0633\u062e \u063a\u064a\u0631 \u0645\u0633\u0645\u0648\u062d \u0641\u064a \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646")},b=e=>{e.preventDefault()},N=async()=>{try{v(!0);const s=await o.Ay.get(r.Sn.EXAM_BY_ID(e));s.data.success&&h(s.data.data.exam)}catch(n){i.oR.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646"),s("/")}finally{v(!1)}},f=async()=>{try{const s=await o.Ay.get(r.Sn.EXAM_PROGRESS(e));s.data.success&&s.data.data.answers&&x(s.data.data.answers)}catch(s){console.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0642\u062f\u0645 \u0627\u0644\u0645\u062d\u0641\u0648\u0638")}},w=async(s,n)=>{const t=(0,a.A)((0,a.A)({},m),{},{[s]:n});x(t);try{await o.Ay.post(r.Sn.EXAM_PROGRESS(e),{answers:t})}catch(c){console.error("\u0641\u0634\u0644 \u062d\u0641\u0638 \u0627\u0644\u062a\u0642\u062f\u0645")}};return p?(0,l.jsx)("div",{className:"loading",children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646..."}):u?(0,l.jsxs)("div",{className:"exam-container",children:[(0,l.jsxs)("div",{className:"exam-header",children:[(0,l.jsx)("h1",{children:u.name}),(0,l.jsxs)("p",{children:["\u0639\u062f\u062f \u0627\u0644\u0623\u0633\u0626\u0644\u0629: ",u.questions.length]}),(0,l.jsx)("div",{className:"exam-warning",children:"\u26a0\ufe0f \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u0646\u0633\u062e \u0623\u0648 \u0627\u0644\u0644\u0635\u0642 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646"})]}),(0,l.jsx)("div",{className:"questions-container",children:u.questions.map((e,s)=>(0,l.jsxs)("div",{className:"question-card",children:[(0,l.jsxs)("h3",{children:["\u0627\u0644\u0633\u0624\u0627\u0644 ",s+1]}),(0,l.jsx)("p",{className:"question-text",children:e.question_text}),(0,l.jsx)("div",{className:"options",children:"multiple"===e.type?Object.entries(e.options).map(s=>{let[n,a]=s;return(0,l.jsxs)("label",{className:"option",children:[(0,l.jsx)("input",{type:"radio",name:"question-".concat(e.id),value:n,checked:m[e.id]===n,onChange:()=>w(e.id,n)}),(0,l.jsxs)("span",{children:[n,") ",a]})]},n)}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{className:"option",children:[(0,l.jsx)("input",{type:"radio",name:"question-".concat(e.id),value:"a",checked:"a"===m[e.id],onChange:()=>w(e.id,"a")}),(0,l.jsx)("span",{children:"\u0635\u062d"})]}),(0,l.jsxs)("label",{className:"option",children:[(0,l.jsx)("input",{type:"radio",name:"question-".concat(e.id),value:"b",checked:"b"===m[e.id],onChange:()=>w(e.id,"b")}),(0,l.jsx)("span",{children:"\u062e\u0637\u0623"})]})]})})]},e.id))}),(0,l.jsxs)("div",{className:"exam-footer",children:[(0,l.jsxs)("div",{className:"progress",children:["\u062a\u0645 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0639\u0644\u0649 ",Object.keys(m).length," \u0645\u0646 ",u.questions.length," \u0633\u0624\u0627\u0644"]}),(0,l.jsx)("button",{className:"btn-submit",onClick:async()=>{const n=Object.keys(m).length,a=u.questions.length;if(!(n<a)||window.confirm("\u0644\u0642\u062f \u0623\u062c\u0628\u062a \u0639\u0644\u0649 ".concat(n," \u0645\u0646 ").concat(a," \u0633\u0624\u0627\u0644. \u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0644\u062a\u0633\u0644\u064a\u0645\u061f"))){y(!0);try{const n=await o.Ay.post(r.Sn.SUBMIT_EXAM(e),{answers:m});n.data.success&&s("/exam-result/".concat(e),{state:{result:n.data.data}})}catch(d){var t,c;i.oR.error((null===(t=d.response)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.message)||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646")}finally{y(!1)}}},disabled:j,children:j?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u0633\u0644\u064a\u0645...":"\u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646"})]})]}):(0,l.jsx)("div",{className:"loading",children:"\u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f"})}}}]);
//# sourceMappingURL=779.fd5964f5.chunk.js.map