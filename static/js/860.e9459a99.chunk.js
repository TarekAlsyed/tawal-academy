"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[860],{868(e,s,a){a.d(s,{A:()=>r});var n=a(43),t=a(29),l=a(115),c=a(729),i=a(772),d=(a(497),a(579));const r=e=>{let{children:s}=e;const{admin:a,adminLogout:r}=(0,c.As)(),o=(0,t.Zp)(),h=(0,t.zy)(),[m,j]=(0,n.useState)(!1),x=[{path:"/admin",label:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",icon:(0,d.jsx)(i.ARf,{})},{path:"/admin/terms",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0631\u0645\u0627\u062a",icon:(0,d.jsx)(i.s_k,{})},{path:"/admin/subjects",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u062f",icon:(0,d.jsx)(i.H9b,{})},{path:"/admin/students",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,d.jsx)(i.cfS,{})},{path:"/admin/questions",label:"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,d.jsx)(i.jH2,{})}],u=()=>j(!m);return(0,d.jsxs)("div",{className:"admin-container",children:[(0,d.jsx)("button",{className:"mobile-menu-toggle",onClick:u,children:m?(0,d.jsx)(i.yGN,{}):(0,d.jsx)(i.ND1,{})}),(0,d.jsxs)("aside",{className:"admin-sidebar ".concat(m?"open":""),children:[(0,d.jsxs)("div",{className:"sidebar-header",children:[(0,d.jsx)("h2",{children:"\ud83c\udf93 Tawal Academy"}),(0,d.jsx)("p",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,d.jsx)("nav",{className:"sidebar-nav",children:x.map(e=>(0,d.jsxs)("button",{className:"nav-item ".concat(h.pathname===e.path?"active":""),onClick:()=>{o(e.path),j(!1)},children:[e.icon," ",e.label]},e.path))}),(0,d.jsxs)("div",{className:"sidebar-footer",children:[(0,d.jsxs)("div",{className:"admin-info",children:[(0,d.jsx)("p",{children:null===a||void 0===a?void 0:a.name}),(0,d.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]}),(0,d.jsxs)("button",{className:"btn-logout",onClick:()=>{r(),o("/admin/login"),l.oR.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")},children:[(0,d.jsx)(i.QeK,{})," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"]})]})]}),m&&(0,d.jsx)("div",{className:"sidebar-overlay",onClick:u}),(0,d.jsx)("main",{className:"admin-main",children:s})]})}},860(e,s,a){a.r(s),a.d(s,{default:()=>o});var n=a(43),t=a(115),l=a(305),c=a(227),i=a(772),d=a(868),r=(a(893),a(579));const o=()=>{const[e,s]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[h,m]=(0,n.useState)(!1),[j,x]=(0,n.useState)(null),[u,b]=(0,n.useState)({name:""});(0,n.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await l.Ay.get(c.Sn.ADMIN_TERMS);e.data.success&&s(e.data.data.terms)}catch(e){t.oR.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0631\u0645\u0627\u062a")}finally{o(!1)}};return a?(0,r.jsx)(d.A,{children:(0,r.jsx)("div",{className:"loading",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})}):(0,r.jsxs)(d.A,{children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0631\u0645\u0627\u062a"}),(0,r.jsxs)("button",{className:"btn-primary",onClick:()=>{x(null),b({name:""}),m(!0)},children:[(0,r.jsx)(i.GGD,{})," \u0625\u0636\u0627\u0641\u0629 \u062a\u0631\u0645 \u062c\u062f\u064a\u062f"]})]}),(0,r.jsx)("div",{className:"content-card",children:(0,r.jsxs)("table",{className:"data-table",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"\u0627\u0644\u0631\u0642\u0645"}),(0,r.jsx)("th",{children:"\u0627\u0633\u0645 \u0627\u0644\u062a\u0631\u0645"}),(0,r.jsx)("th",{children:"\u0639\u062f\u062f \u0627\u0644\u0645\u0648\u0627\u062f"}),(0,r.jsx)("th",{children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0646\u0634\u0627\u0621"}),(0,r.jsx)("th",{children:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,r.jsx)("tbody",{children:e.length>0?e.map((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.subjects_count||0}),(0,r.jsx)("td",{children:new Date(e.created_at).toLocaleDateString("ar-EG")}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"action-buttons",children:[(0,r.jsx)("button",{className:"btn-icon edit",onClick:()=>(e=>{x(e),b({name:e.name}),m(!0)})(e),children:(0,r.jsx)(i.WXf,{})}),(0,r.jsx)("button",{className:"btn-icon delete",onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062a\u0631\u0645\u061f"))try{await l.Ay.delete(c.Sn.ADMIN_TERM_BY_ID(e)),t.oR.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062a\u0631\u0645 \u0628\u0646\u062c\u0627\u062d"),p()}catch(s){t.oR.error("\u0641\u0634\u0644 \u062d\u0630\u0641 \u0627\u0644\u062a\u0631\u0645")}})(e.id),children:(0,r.jsx)(i.IXo,{})})]})})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"5",style:{textAlign:"center"},children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0631\u0645\u0627\u062a"})})})]})}),h&&(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>m(!1),children:(0,r.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{children:j?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062a\u0631\u0645":"\u0625\u0636\u0627\u0641\u0629 \u062a\u0631\u0645 \u062c\u062f\u064a\u062f"}),(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u.name.trim())try{j?(await l.Ay.put(c.Sn.ADMIN_TERM_BY_ID(j.id),u),t.oR.success("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0631\u0645 \u0628\u0646\u062c\u0627\u062d")):(await l.Ay.post(c.Sn.ADMIN_TERMS,u),t.oR.success("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062a\u0631\u0645 \u0628\u0646\u062c\u0627\u062d")),m(!1),b({name:""}),x(null),p()}catch(n){var s,a;t.oR.error((null===(s=n.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"\u062d\u062f\u062b \u062e\u0637\u0623")}else t.oR.error("\u0627\u0633\u0645 \u0627\u0644\u062a\u0631\u0645 \u0645\u0637\u0644\u0648\u0628")},children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u062a\u0631\u0645"}),(0,r.jsx)("input",{type:"text",value:u.name,onChange:e=>b({name:e.target.value}),placeholder:"\u0645\u062b\u0627\u0644: \u0627\u0644\u062a\u0631\u0645 \u0627\u0644\u0623\u0648\u0644",required:!0})]}),(0,r.jsxs)("div",{className:"modal-actions",children:[(0,r.jsx)("button",{type:"submit",className:"btn-primary",children:j?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,r.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>m(!1),children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]})})]})}},497(){},893(){}}]);
//# sourceMappingURL=860.e9459a99.chunk.js.map