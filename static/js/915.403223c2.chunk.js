"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[915],{868(e,s,a){a.d(s,{A:()=>r});var n=a(43),t=a(29),c=a(115),l=a(729),i=a(772),o=(a(497),a(579));const r=e=>{let{children:s}=e;const{admin:a,adminLogout:r}=(0,l.As)(),d=(0,t.Zp)(),m=(0,t.zy)(),[x,u]=(0,n.useState)(!1),p=[{path:"/admin",label:"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",icon:(0,o.jsx)(i.ARf,{})},{path:"/admin/terms",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0631\u0645\u0627\u062a",icon:(0,o.jsx)(i.s_k,{})},{path:"/admin/subjects",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u062f",icon:(0,o.jsx)(i.H9b,{})},{path:"/admin/students",label:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,o.jsx)(i.cfS,{})},{path:"/admin/questions",label:"\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0628\u0629",icon:(0,o.jsx)(i.jH2,{})}],h=()=>u(!x);return(0,o.jsxs)("div",{className:"admin-container",children:[(0,o.jsx)("button",{className:"mobile-menu-toggle",onClick:h,children:x?(0,o.jsx)(i.yGN,{}):(0,o.jsx)(i.ND1,{})}),(0,o.jsxs)("aside",{className:"admin-sidebar ".concat(x?"open":""),children:[(0,o.jsxs)("div",{className:"sidebar-header",children:[(0,o.jsx)("h2",{children:"\ud83c\udf93 Tawal Academy"}),(0,o.jsx)("p",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]}),(0,o.jsx)("nav",{className:"sidebar-nav",children:p.map(e=>(0,o.jsxs)("button",{className:"nav-item ".concat(m.pathname===e.path?"active":""),onClick:()=>{d(e.path),u(!1)},children:[e.icon," ",e.label]},e.path))}),(0,o.jsxs)("div",{className:"sidebar-footer",children:[(0,o.jsxs)("div",{className:"admin-info",children:[(0,o.jsx)("p",{children:null===a||void 0===a?void 0:a.name}),(0,o.jsx)("small",{children:null===a||void 0===a?void 0:a.email})]}),(0,o.jsxs)("button",{className:"btn-logout",onClick:()=>{r(),d("/admin/login"),c.oR.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")},children:[(0,o.jsx)(i.QeK,{})," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"]})]})]}),x&&(0,o.jsx)("div",{className:"sidebar-overlay",onClick:h}),(0,o.jsx)("main",{className:"admin-main",children:s})]})}},915(e,s,a){a.r(s),a.d(s,{default:()=>m});var n=a(555),t=a(43),c=a(29),l=a(115),i=a(305),o=a(227),r=a(868),d=(a(893),a(579));const m=()=>{const{examId:e}=(0,c.g)(),s=(0,c.Zp)(),[a,m]=(0,t.useState)([]),[x,u]=(0,t.useState)(!0),[p,h]=(0,t.useState)(!1),[j,v]=(0,t.useState)("manual"),[b,N]=(0,t.useState)(null),[_,y]=(0,t.useState)(""),[f,g]=(0,t.useState)(null),[C,w]=(0,t.useState)({question_text:"",type:"multiple",option_a:"",option_b:"",option_c:"",option_d:"",correct_answer:"",explanation:""});(0,t.useEffect)(()=>{S()},[e]);const S=async()=>{try{u(!0);const s=await i.Ay.get(o.Sn.ADMIN_EXAM_BY_ID(e));s.data.success&&m(s.data.data.questions||[])}catch(s){l.oR.error("\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0623\u0633\u0626\u0644\u0629")}finally{u(!1)}},A=e=>{const{name:s,value:a}=e.target;w((0,n.A)((0,n.A)({},C),{},{[s]:a}))},q=()=>{w({question_text:"",type:"multiple",option_a:"",option_b:"",option_c:"",option_d:"",correct_answer:"",explanation:""}),g(null),h(!1),v("manual"),N(null),y("")};return x?(0,d.jsx)("div",{className:"loading",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."}):(0,d.jsx)(r.A,{children:(0,d.jsxs)("div",{className:"admin-content",children:[(0,d.jsxs)("div",{className:"page-header",children:[(0,d.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u0633\u0626\u0644\u0629"}),(0,d.jsxs)("div",{className:"header-actions",children:[(0,d.jsx)("button",{className:"btn-primary",onClick:()=>h(!p),children:p?"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0646\u0645\u0648\u0630\u062c":"\u0625\u0636\u0627\u0641\u0629 \u0633\u0624\u0627\u0644 \u062c\u062f\u064a\u062f"}),(0,d.jsx)("button",{className:"btn-secondary",onClick:()=>s(-1),children:"\u0627\u0644\u0639\u0648\u062f\u0629"})]})]}),p&&(0,d.jsxs)("div",{className:"form-container",children:[!f&&(0,d.jsxs)("div",{className:"mode-selector",children:[(0,d.jsx)("button",{className:"mode-btn ".concat("manual"===j?"active":""),onClick:()=>v("manual"),children:"\u0625\u0636\u0627\u0641\u0629 \u064a\u062f\u0648\u064a\u0629"}),(0,d.jsx)("button",{className:"mode-btn ".concat("excel"===j?"active":""),onClick:()=>v("excel"),children:"\u0631\u0641\u0639 \u0645\u0644\u0641 Excel"}),(0,d.jsx)("button",{className:"mode-btn ".concat("text"===j?"active":""),onClick:()=>v("text"),children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646 \u0646\u0635 (\u0646\u0633\u062e \u0648\u0644\u0635\u0642)"})]}),"manual"===j?(0,d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),C.question_text.trim())if(C.correct_answer)try{let s;s=f?await i.Ay.put(o.Sn.ADMIN_UPDATE_QUESTION(e,f.id),C):await i.Ay.post(o.Sn.ADMIN_ADD_QUESTIONS_MANUAL(e),{questions:[C]}),s.data.success&&(l.oR.success(f?"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0633\u0624\u0627\u0644":"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0624\u0627\u0644"),q(),S())}catch(t){var a,n;l.oR.error((null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"\u0641\u0634\u0644 \u062d\u0641\u0638 \u0627\u0644\u0633\u0624\u0627\u0644")}else l.oR.error("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629");else l.oR.error("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644")},className:"manual-form",children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644:"}),(0,d.jsx)("textarea",{name:"question_text",value:C.question_text,onChange:A,placeholder:"\u0627\u0643\u062a\u0628 \u0627\u0644\u0633\u0624\u0627\u0644 \u0647\u0646\u0627 \u0623\u0648 \u0642\u0645 \u0628\u0644\u0635\u0642\u0647...",required:!0})]}),(0,d.jsx)("div",{className:"form-row",children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0646\u0648\u0639 \u0627\u0644\u0633\u0624\u0627\u0644:"}),(0,d.jsxs)("select",{name:"type",value:C.type,onChange:A,children:[(0,d.jsx)("option",{value:"multiple",children:"\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0646 \u0645\u062a\u0639\u062f\u062f"}),(0,d.jsx)("option",{value:"true_false",children:"\u0635\u062d / \u062e\u0637\u0623"})]})]})}),"multiple"===C.type?(0,d.jsxs)("div",{className:"options-grid",children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u0623:"}),(0,d.jsx)("input",{type:"text",name:"option_a",value:C.option_a,onChange:A,required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u0628:"}),(0,d.jsx)("input",{type:"text",name:"option_b",value:C.option_b,onChange:A,required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u062c:"}),(0,d.jsx)("input",{type:"text",name:"option_c",value:C.option_c,onChange:A,required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u062f:"}),(0,d.jsx)("input",{type:"text",name:"option_d",value:C.option_d,onChange:A,required:!0})]})]}):(0,d.jsx)("div",{className:"true-false-options",children:(0,d.jsx)("p",{children:'\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u0633\u062a\u0643\u0648\u0646 "\u0635\u062d" \u0648 "\u062e\u0637\u0623" \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b.'})}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629:"}),(0,d.jsxs)("select",{name:"correct_answer",value:C.correct_answer,onChange:A,required:!0,children:[(0,d.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0625\u062c\u0627\u0628\u0629..."}),"multiple"===C.type?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("option",{value:"a",children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u0623"}),(0,d.jsx)("option",{value:"b",children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u0628"}),(0,d.jsx)("option",{value:"c",children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u062c"}),(0,d.jsx)("option",{value:"d",children:"\u0627\u0644\u062e\u064a\u0627\u0631 \u062f"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("option",{value:"a",children:"\u0635\u062d"}),(0,d.jsx)("option",{value:"b",children:"\u062e\u0637\u0623"})]})]})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0634\u0631\u062d \u0627\u0644\u0625\u062c\u0627\u0628\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a):"}),(0,d.jsx)("textarea",{name:"explanation",value:C.explanation,onChange:A,placeholder:"\u0627\u0634\u0631\u062d \u0644\u0645\u0627\u0630\u0627 \u0647\u0630\u0647 \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0635\u062d\u064a\u062d\u0629..."})]}),(0,d.jsxs)("div",{className:"form-actions",children:[(0,d.jsx)("button",{type:"submit",className:"btn-primary",disabled:x,children:f?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0633\u0624\u0627\u0644":"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0624\u0627\u0644"}),(0,d.jsx)("button",{type:"button",className:"btn-secondary",onClick:q,children:"\u0625\u0644\u063a\u0627\u0621"})]})]}):"excel"===j?(0,d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),!b)return void l.oR.error("\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0644\u0641 Excel");const a=new FormData;a.append("excel",b);try{u(!0);const s=await i.Ay.post(o.Sn.ADMIN_ADD_QUESTIONS_EXCEL(e),a,{headers:{"Content-Type":"multipart/form-data"}});s.data.success&&(l.oR.success(s.data.message),q(),S())}catch(c){var n,t;l.oR.error((null===(n=c.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"\u0641\u0634\u0644 \u0631\u0641\u0639 \u0645\u0644\u0641 Excel")}finally{u(!1)}},className:"excel-form",children:[(0,d.jsxs)("div",{className:"upload-box",children:[(0,d.jsx)("label",{children:"\u0627\u062e\u062a\u0631 \u0645\u0644\u0641 (Excel \u0623\u0648 Word):"}),(0,d.jsx)("input",{type:"file",accept:".xlsx, .xls, .docx",onChange:e=>N(e.target.files[0])})]}),(0,d.jsx)("div",{className:"info-box",children:(0,d.jsx)("p",{children:"\u064a\u0645\u0643\u0646\u0643 \u0631\u0641\u0639 \u0645\u0644\u0641 Excel (\u0628\u0627\u0644\u0623\u0639\u0645\u062f\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629) \u0623\u0648 \u0645\u0644\u0641 Word \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0628\u062a\u0646\u0633\u064a\u0642 \u0646\u0635\u064a (\u0627\u0644\u0633\u0624\u0627\u0644 \u062b\u0645 \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u062b\u0645 \u0627\u0644\u0625\u062c\u0627\u0628\u0629)."})}),(0,d.jsxs)("div",{className:"form-actions",children:[(0,d.jsx)("button",{type:"submit",className:"btn-primary",disabled:x,children:x?"\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639 \u0648\u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629...":"\u0631\u0641\u0639 \u0648\u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0645\u0644\u0641"}),(0,d.jsx)("button",{type:"button",className:"btn-secondary",onClick:q,children:"\u0625\u0644\u063a\u0627\u0621"})]})]}):(0,d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),_.trim())try{u(!0);const s=await i.Ay.post(o.Sn.ADMIN_ADD_QUESTIONS_TEXT(e),{text:_});s.data.success&&(l.oR.success(s.data.message),q(),S())}catch(t){var a,n;l.oR.error((null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"\u0641\u0634\u0644 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0645\u0646 \u0627\u0644\u0646\u0635")}finally{u(!1)}else l.oR.error("\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0627\u0644\u0646\u0635")},className:"text-form",children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0642\u0645 \u0628\u0644\u0635\u0642 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0647\u0646\u0627 \u0628\u0627\u0644\u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u062a\u0627\u0644\u064a:"}),(0,d.jsx)("textarea",{value:_,onChange:e=>y(e.target.value),placeholder:"1. \u0645\u0627 \u0647\u0648 \u0627\u0644\u0645\u062d\u0627\u0643\u064a \u0627\u0644\u0623\u0633\u0631\u0639\u061f\n\u0623) \u0628\u0644\u0648\u0633\u062a\u0627\u0643\u0633\n\u0628) \u0646\u0648\u0643\u0633\n\u0627\u0644\u0625\u062c\u0627\u0628\u0629: \u0623",rows:10})]}),(0,d.jsxs)("div",{className:"form-actions",children:[(0,d.jsx)("button",{type:"submit",className:"btn-primary",disabled:x,children:x?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0644\u064a\u0644 \u0648\u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u062a\u062d\u0644\u064a\u0644 \u0648\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0623\u0633\u0626\u0644\u0629"}),(0,d.jsx)("button",{type:"button",className:"btn-secondary",onClick:q,children:"\u0625\u0644\u063a\u0627\u0621"})]})]})]}),(0,d.jsxs)("div",{className:"questions-list",children:[(0,d.jsxs)("h2",{children:["\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0633\u0626\u0644\u0629 (",a.length,")"]}),0===a.length?(0,d.jsx)("div",{className:"empty-state",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0633\u0626\u0644\u0629 \u0645\u0636\u0627\u0641\u0629"}):(0,d.jsx)("div",{className:"questions-grid",children:a.map((s,a)=>(0,d.jsxs)("div",{className:"question-card",children:[(0,d.jsxs)("div",{className:"question-header",children:[(0,d.jsxs)("span",{className:"question-number",children:["\u0633\u0624\u0627\u0644 ",a+1]}),(0,d.jsx)("span",{className:"question-type ".concat(s.type),children:"multiple"===s.type?"\u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0646 \u0645\u062a\u0639\u062f\u062f":"\u0635\u062d \u0623\u0648 \u062e\u0637\u0623"})]}),(0,d.jsx)("p",{className:"question-text",children:s.question_text}),"multiple"===s.type&&s.options&&(0,d.jsxs)("div",{className:"options",children:[(0,d.jsxs)("div",{className:"option ".concat("a"===s.correct_answer?"correct":""),children:["\u0623) ",s.options.a]}),(0,d.jsxs)("div",{className:"option ".concat("b"===s.correct_answer?"correct":""),children:["\u0628) ",s.options.b]}),(0,d.jsxs)("div",{className:"option ".concat("c"===s.correct_answer?"correct":""),children:["\u062c) ",s.options.c]}),(0,d.jsxs)("div",{className:"option ".concat("d"===s.correct_answer?"correct":""),children:["\u062f) ",s.options.d]})]}),"true_false"===s.type&&(0,d.jsxs)("div",{className:"true-false",children:[(0,d.jsx)("div",{className:"option ".concat("a"===s.correct_answer?"correct":""),children:"\u0635\u062d"}),(0,d.jsx)("div",{className:"option ".concat("b"===s.correct_answer?"correct":""),children:"\u062e\u0637\u0623"})]}),(0,d.jsxs)("div",{className:"question-actions",children:[(0,d.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{const s=e.options||{};w({question_text:e.question_text,type:e.type,option_a:s.a||"",option_b:s.b||"",option_c:s.c||"",option_d:s.d||"",correct_answer:e.correct_answer,explanation:e.explanation||""}),g(e),h(!0)})(s),children:"\u062a\u0639\u062f\u064a\u0644"}),(0,d.jsx)("button",{className:"btn-delete",onClick:()=>(async s=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0633\u0624\u0627\u0644\u061f"))try{(await i.Ay.delete(o.Sn.ADMIN_DELETE_QUESTION(e,s))).data.success&&(l.oR.success("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0633\u0624\u0627\u0644"),S())}catch(a){l.oR.error("\u0641\u0634\u0644 \u062d\u0630\u0641 \u0627\u0644\u0633\u0624\u0627\u0644")}})(s.id),children:"\u062d\u0630\u0641"})]})]},s.id))})]})]})})}},497(){},893(){}}]);
//# sourceMappingURL=915.403223c2.chunk.js.map